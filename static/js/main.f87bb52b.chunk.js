(this["webpackJsonptodo-pwa"]=this["webpackJsonptodo-pwa"]||[]).push([[0],{13:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),c=a(8),i=a.n(c),r=(a(13),a(3)),u=a(2),l=a(4),o=function(){for(var t="",e=0;e<64;e++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#\xa4%&/()=?@\xa3$\u20ac{[]}-.,<>;:_|".charAt(Math.floor(89*Math.random()));return t},d=function(t,e){var a=Object(l.a)(t);switch(e.type){case"ADD":return[].concat(Object(l.a)(a),[Object(u.a)(Object(u.a)({},e.payload.task),{},{id:o(),dateAdded:new Date,subtasks:e.payload.task.subtasks.filter((function(t){return""!==t.title&&t}))})]);case"CLEAR":return a.filter((function(t){return!t.completed})).map((function(t){return Object(u.a)(Object(u.a)({},t),{},{subtasks:t.subtasks.filter((function(t){return!t.completed}))})}));case"REMOVE":return function t(e,a){return e.filter((function(t){return t.id!==a})).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{subtasks:t(e.subtasks||[],a)})}))}(a,e.payload.id);case"UPDATE":return function t(e,a){return e.map((function(t){return t.id===a.id?a:t})).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{subtasks:t(e.subtasks||[],a)})}))}(a,e.payload.task);case"LOAD":return null===e.payload?[]:e.payload;default:throw new Error}},j=a(0),b=function(t){var e=t.toggleAddTaskOpen,a=t.addNewTaskOpen;return Object(j.jsx)("menu",{children:Object(j.jsx)("button",{onClick:e,name:"Open Add New Task",children:a?Object(j.jsx)("i",{className:"fas fa-times"}):Object(j.jsx)("i",{className:"fas fa-plus"})})})},O=function(){return{id:o(),title:"",dateAdded:new Date,completed:!1,subtasks:[]}},p=function(t){var e=t.subtaskInputs,a=t.setSubtaskInputs,s=t.createEmptySubtask,n=function(){return a([].concat(Object(l.a)(e),[s()]))};return Object(j.jsx)("ul",{className:"subtask",children:e.length>0&&e.map((function(t){var c=t.id,i=t.title;return Object(j.jsxs)("li",{className:"list--item--name",children:[Object(j.jsx)("input",{type:"text",name:"subtasks",value:i,placeholder:"Add a subtask",onChange:function(t){return function(t,s){a(e.map((function(e){return e.id===s?Object(u.a)(Object(u.a)({},e),{},{title:t.target.value}):e})))}(t,c)}}),Object(j.jsx)("button",{title:"Delete",onClick:function(){return function(t){e.length>1&&a(e.filter((function(e){return e.id!==t&&e}))),a([s()])}(c)},children:Object(j.jsx)("i",{className:"far fa-times-circle"})}),Object(j.jsx)("button",{title:"Add more subtasks",onClick:n,children:Object(j.jsx)("i",{className:"fas fa-plus-circle"})})]},c)}))})},f=function(t){var e=t.toggleAddTaskOpen,a=Object(s.useState)(O()),n=Object(r.a)(a,2),c=n[0],i=n[1],l=Object(s.useState)([O()]),o=Object(r.a)(l,2),d=o[0],b=o[1],f=Object(s.useContext)(x).dispatch;return Object(j.jsxs)("li",{className:"list--item add--task",children:[Object(j.jsxs)("div",{className:"list--item--name",children:[Object(j.jsx)("input",{type:"text",name:"title",placeholder:"Add a task",value:c.title,onChange:function(t){i(Object(u.a)(Object(u.a)({},c),{},{title:t.target.value}))},autoFocus:!0}),Object(j.jsx)("button",{title:"Save",onClick:function(){""!==c.title&&f({type:"ADD",payload:{task:Object(u.a)(Object(u.a)({},c),{},{subtasks:d})}}),i(O()),b([O()]),e()},children:Object(j.jsx)("i",{className:"far fa-check-circle green"})})]}),Object(j.jsx)("ul",{children:Object(j.jsx)(p,{subtaskInputs:d,setSubtaskInputs:b,createEmptySubtask:O})})]})},k=function(t){var e=t.tasksCompleted,a=t.taskLength;return Object(j.jsxs)("li",{className:"progression--wrapper",children:[Object(j.jsxs)("div",{children:[e," of ",a," Subtasks Completed."]}),Object(j.jsx)("div",{className:"progression",children:Object(j.jsx)("div",{className:"bar",style:{width:"".concat(e/a*100,"%")}})})]})},m=function t(e){var a=e.id,n=e.title,c=e.dateAdded,i=e.completed,u=e.subtasks,o=(e.isChild,Object(s.useState)(!1)),d=Object(r.a)(o,2),b=d[0],f=d[1],m=Object(s.useState)(""),h=Object(r.a)(m,2),g=h[0],v=h[1],A=Object(s.useContext)(x).dispatch,y=Object(s.useState)([O()]),C=Object(r.a)(y,2),N=C[0],w=C[1];return Object(j.jsxs)("li",{className:"list--item ".concat(i&&"complete"),children:[Object(j.jsxs)("div",{className:"list--item--name",children:[b?Object(j.jsx)("input",{type:"text",name:"title",placeholder:n,value:g,onChange:function(t){return v(t.target.value)},autoFocus:!0}):Object(j.jsxs)("p",{onClick:function(){A({type:"UPDATE",payload:{task:{id:a,title:n,dateAdded:c,completed:!i,subtasks:u}}})},children:[Object(j.jsx)("i",{className:i?"fas fa-check-square":"far fa-square"}),n]}),Object(j.jsx)("button",{onClick:i?function(){return A({type:"REMOVE",payload:{id:a}})}:b?function(){A({type:"UPDATE",payload:{task:{id:a,title:""===g?n:g,dateAdded:c,completed:i,subtasks:[].concat(Object(l.a)(u),Object(l.a)(N.filter((function(t){return""!==t.title&&t}))))}}}),v(""),f(!1),w([O()])}:function(){return f(!0)},children:Object(j.jsx)("i",{className:"fas ".concat(i?"fa-trash-alt":b?"far fa-check-circle green":"fa-edit")})})]}),b&&Object(j.jsx)(p,{subtaskInputs:N,setSubtaskInputs:w,createEmptySubtask:O}),u.length>0&&Object(j.jsxs)("ul",{className:"subtask",children:[Object(j.jsx)(k,{tasksCompleted:u.reduce((function(t,e){return!0===e.completed?t+1:t}),0),taskLength:u.length}),u.map((function(e){return Object(j.jsx)(t,{id:e.id,dateAdded:c,title:e.title,completed:e.completed,subtasks:e.subtasks,isChild:!0},e.id)}))]})]})},h=function(t){var e=t.toggleAddTaskOpen,a=t.addNewTaskOpen,s=t.tasks;return Object(j.jsxs)("ul",{children:[a&&Object(j.jsx)(f,{toggleAddTaskOpen:e}),s.map((function(t){var e=t.id,a=t.title,s=t.dateAdded,n=t.completed,c=t.subtasks;return Object(j.jsx)(m,{id:e,title:a,dateAdded:s,completed:n,subtasks:c},e)}))]})},x=Object(s.createContext)({}),g=[],v=function(){var t=Object(s.useState)(!1),e=Object(r.a)(t,2),a=e[0],n=e[1],c=Object(s.useReducer)(d,g),i=Object(r.a)(c,2),u=i[0],l=i[1],o=function(){return n(!a)};return Object(j.jsxs)(x.Provider,{value:{state:u,dispatch:l},children:[Object(j.jsx)(b,{toggleAddTaskOpen:o,addNewTaskOpen:a}),Object(j.jsxs)("main",{children:[Object(j.jsxs)("div",{className:"title",children:[Object(j.jsx)("h1",{children:"To-Do-List"}),Object(j.jsxs)("p",{children:["with subtasks by ",Object(j.jsx)("a",{href:"https://github.com/vlorenzen/",children:"Viktor Lorenzen"})]})]}),Object(j.jsx)(h,{addNewTaskOpen:a,toggleAddTaskOpen:o,tasks:u})]}),Object(j.jsx)("button",{className:"clear--btn",onClick:function(){return l({type:"CLEAR"})},children:"Clear All Completed Tasks!"})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),s(t),n(t),c(t),i(t)}))};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),A()}},[[15,1,2]]]);
//# sourceMappingURL=main.f87bb52b.chunk.js.map